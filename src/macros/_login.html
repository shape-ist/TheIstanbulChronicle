{% from "./macros/_form.html" import form %}
{% macro login() %}
<style>
    .auth-content {
        color: var(--bg) !important;
    }
    .form-container {
        width: 50%;
        justify-content: flex-end;
        align-items: center;
    }
    .auth-lower-container {
        width: calc(100% + var(--m2) * 2);
    }
    .register-link {
        color: var(--bg);
        margin-left: 6px;
    }
    #register-popup {
        padding: var(--m1) var(--m2);
        margin-top: var(--m1);
        background: var(--fg);
        color: var(--bg);
    }
</style>
<script type="text/javascript" src="{{ url_for('static', filename='js/dismissHandler.js') }}"></script>
<div id="login-area" class="overlay auth-overlay flex-col flex-center" style="display:none;">
    <div id="login-popup" class="auth-container flex-col flex-center">
        <h1 class="auth-content title-large">Log in to<br>the Chronicle</h1>
        <button class="auth-content google-auth"><i class="auth-icon fab fa-google"></i>Continue with Google</button>
        <form method="POST" class="form-container flex-col">
            {{ form('E-Mail',       '' ,    'email-form',       'email',        'name-login-email') }}
            {{ form('Password',     '' ,    'password-form',    'password',     'name-login-password') }}
        <div class="auth-lower-container flex-row flex-between">
            <a href="/profile/reset" class="forgot sub">Forgot<br>Password?</a>
            <button type="submit" class="submit-button">Log in</button>
            <!--
                TODO: submit button triggers js and verification code popup appears. (Button should not be enabled if password is invalid.)
            -->
        </div>
    </form>
    </div>
    <a href="/register" id="register-popup" class="auth-container">
        <p class="register-redirector sub">
            Don't have an account? <span class="register-link" href="/register">Register</span>
        </p>
    </a>
</div>
{% endmacro %}